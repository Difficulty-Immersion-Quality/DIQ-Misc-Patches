// ==================================== Magical Ambush and other sneaking bugs not triggering statuses ====================================
// TODO: Verify the importance of these

// Magical Ambush from Arcane Trickster Subclass
new entry "MAGICAL_AMBUSH"
type "StatusData"
data "StatusType" "BOOST"
using "MAGICAL_AMBUSH"
// data "StackType" "Ignore"
data "StackType" ""
// data "RemoveEvents" "OnObscurityChanged;OnStatusApplied;OnStatusRemoved"
data "RemoveEvents" "OnStatusApplied;OnStatusRemoved"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog"

// Covert Critical from Shade-Slayer Cloak
new entry "MAG_CRITICAL_HIDING_CRITICAL"
type "StatusData"
data "StatusType" "BOOST"
using "MAG_CRITICAL_HIDING_CRITICAL"
// data "RemoveEvents" "OnObscurityChanged;OnStatusRemoved;OnStatusApplied"
data "RemoveEvents" "OnStatusRemoved;OnStatusApplied"

// Dread Iron Dagger
new entry "MAG_HIDING_NECROTIC_DAMAGE_BONUS"
type "StatusData"
data "StatusType" "BOOST"
using "MAG_HIDING_NECROTIC_DAMAGE_BONUS"
// data "StackType" "Ignore"
data "StackType" ""
data "Boosts" "CharacterWeaponDamage(1d6, Necrotic)"
data "RemoveConditions" "not HasStatus('SNEAKING_CLEAR') and not HasStatus('SNEAKING_LIGHTLY_OBSCURED') and not HasStatus('SNEAKING_HEAVILY_OBSCURED')"
// data "RemoveEvents" "OnObscurityChanged;OnStatusApplied;OnStatusRemoved"
data "RemoveEvents" "OnStatusApplied;OnStatusRemoved"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"