// =========================== Spider's Bane ===========================
// Bug Fix: Free Action now ignores all Difficult Terrain as is implied in the the description.

// new entry "UNI_SpidersBane"
// type "Weapon"
// using "WPN_Greatsword_2"
// data "RootTemplate" "cf34f344-06e8-4dce-83aa-6565de093a12"
// data "ValueUUID" "81764c3c-c7a9-49a7-b145-d31ffd5aebe1"
// data "Rarity" "VeryRare"
// data "BoostsOnEquipMainHand" "UnlockSpell(Target_PommelStrike);UnlockSpell(Target_Slash_New);UnlockSpell(Zone_Cleave);UnlockSpell(Rush_SpringAttack)"
// data "PassivesOnEquip" "MAG_FreeAction_FORSPIDERMOD
// "
// data "Unique" "1"

new entry "MAG_FreeAction_FORSPIDERMOD"
type "PassiveData"
using "MAG_FreeAction_FORSPIDERMOD"
// Free Action
// data "DisplayName" "ha5ff570fge169g285bg8827gb755cca95b86;1"
// You ignore the effects of &lt;LSTag Type="Status" Tooltip="DIFFICULT_TERRAIN"&gt;Difficult Terrain&lt;/LSTag&gt;, and cannot be &lt;LSTag Type="Status" Tooltip="PARALYZED"&gt;Paralysed&lt;/LSTag&gt; or &lt;LSTag Type="Status" Tooltip="RESTRAINED"&gt;Restrained&lt;/LSTag&gt;.
// data "Description" "hfc85b8e2g3e58gcb35gd7fag13d394a9b279;1"
// data "Icon" "Spell_Transmutation_Haste"
// data "Boosts" "StatusImmunity(DIFFICULT_TERRAIN);StatusImmunity(DIFFICULT_TERRAIN_WEB);StatusImmunity(DIFFICULT_TERRAIN_MUD);StatusImmunity(DIFFICULT_TERRAIN_VINES);StatusImmunity(DIFFICULT_TERRAIN_OVERGROWTH);StatusImmunity(DIFFICULT_TERRAIN_LAVA);StatusImmunity(SG_Paralyzed);StatusImmunity(SG_Restrained);StatusImmunity(CRIPPLED);StatusImmunity(HAMSTRING);StatusImmunity(PIN_DOWN)"
data "Boosts" "StatusImmunity(SG_DifficultTerrain);StatusImmunity(SG_Paralyzed);StatusImmunity(SG_Restrained);StatusImmunity(CRIPPLED)"

// =========================== Critfisher Ring ===========================
// Changes: Decreased rarity from Legendary to Very Rare.
// Changes: Critical threshold reduction reduced from 3 to 2.

new entry "ARM_CritfisherRing"
type "Armor"
// using "_Ring_Magic"
using "ARM_CritfisherRing"
// data "RootTemplate" "6be8633d-a1ca-4ede-96cc-c52066d705cc"
data "RootTemplate" "1c46bf69-7916-4171-b50c-0bb5650148a4"
// data "ValueOverride" "1755"
data "ValueOverride" ""
data "ValueUUID" "4b9657a0-5a00-442a-b76e-535715cbaa86"
// data "Rarity" "Legendary"
data "Rarity" "VeryRare"
// data "PassivesOnEquip" "MAG_Critfisher_Passive"
data "PassivesOnEquip" "MAG_ImprovedGoonerCritical"
data "Unique" "1"

new entry "MAG_Critfisherring"
type "Armor"
// using "_Ring_Magic"
using "MAG_Critfisherring"
// data "RootTemplate" "1c46bf69-7916-4171-b50c-0bb5650148a4"
// data "ValueUUID" "4b9657a0-5a00-442a-b76e-535715cbaa86"
// data "Rarity" "Legendary"
data "Rarity" "VeryRare"
// data "PassivesOnEquip" "MAG_ImprovedGoonerCritical;"
data "PassivesOnEquip" "MAG_ImprovedGoonerCritical"
// data "Unique" "1"

new entry "MAG_Critfisher_Passive"
type "PassiveData"
using "MAG_Critfisher_Passive"
// data "DescriptionParams" "3"
data "DescriptionParams" "2"
// data "Boosts" "ReduceCriticalAttackThreshold(3)"
data "Boosts" "ReduceCriticalAttackThreshold(2)"

new entry "MAG_ImprovedGoonerCritical"
type "PassiveData"
using "MAG_ImprovedGoonerCritical"
// Major Critical Acuity
// data "DisplayName" "h9a50029ag76dbgcaa7g031eg44d95decac50;1"
// The number you need to &lt;LSTag Tooltip="AttackRoll"&gt;roll&lt;/LSTag&gt; a &lt;LSTag Tooltip="CriticalHit"&gt;Critical Hit&lt;/LSTag&gt; while attacking is reduced by 3. This effect can stack.
// data "Description" "hcb495aadg3f8fg63a7g8b52g970e6edf4e0f;1"
// The number you need to &lt;LSTag Tooltip="AttackRoll"&gt;roll&lt;/LSTag&gt; a &lt;LSTag Tooltip="CriticalHit"&gt;Critical Hit&lt;/LSTag&gt; while attacking is reduced by [1]. This effect can stack.
data "Description" "he36bc98eg1d83g411dg97fcgf75cca30852d;1"
data "DescriptionParams" "2"
// data "Icon" "PassiveFeature_ImprovedCritical"
// data "Properties" "Highlighted"
// data "Boosts" "ReduceCriticalAttackThreshold(3);"
data "Boosts" "ReduceCriticalAttackThreshold(2)"

// ==================================== Soul Knife ====================================
// Equipment nerfs and fixes

new entry "MAG_PsyRide1"
type "Armor"
// using "_Ring_Magic"
using "MAG_PsyRide1"
data "IsUnique" "1"

new entry "MAG_PsyRide2"
type "Armor"
// using "_Ring_Magic"
using "MAG_PsyRide2"
data "IsUnique" "1"

new entry "MAG_PsyRiderGloves"
type "Armor"
// using "_Hand_Magic"
using "MAG_PsyRiderGloves"
// data "PassivesOnEquip" "PsyRiderGloves_Advantage;FastHands"
data "PassivesOnEquip" "PsyRiderGloves_Advantage"
data "IsUnique" "1"

// Words That Remain
new entry "PsyRiderPassive1"
type "PassiveData"
using "PsyRiderPassive1"
// The wearer deals an additional 1d4 cold damage when dealing psychic damage.
// data "Description" "h06057d84g97a9g9546g1585g5dcd52408f54;1"
// The wearer deals an additional [1] when dealing[2] with &lt;LSTag Tooltip="AttackRoll"&gt;Attacks&lt;/LSTag&gt;.
data "Description" "h0c187050gaa77g4ce9g8549g9f1f20b437bd;1"
// data "DescriptionParams" ""
data "DescriptionParams" "DealDamage(1d4, Cold);DealDamage(,Psychic)"
// data "Boosts" "IF(HasDamageDoneForType(DamageType.Psychic)):DamageBonus(1d6, Cold)"
data "Boosts" "IF(IsAttack() and HasDamageDoneForType(DamageType.Psychic)):DamageBonus(1d4, Cold)"

// Scholastic Assault
new entry "PsyRiderPassive1b"
type "PassiveData"
using "PsyRiderPassive1b"
// When you deal psychic damage to an enemy, they may gain &lt;LSTag Type="Status" Tooltip="MAG_PSYCHIC_MENTAL_FATIGUE"&gt;Mental Fatigue&lt;/LSTag&gt; for 3 turns.
// data "Description" "h760b6bffg847ag7cc3g1774gcdfe57c6ac57;4"
// When you deal[1] to an enemy with an &lt;LSTag Tooltip="AttackRoll"&gt;Attack&lt;/LSTag&gt;, they must succed a &lt;LSTag Tooltip="Constitution"&gt;Constitution&lt;/LSTag&gt; &lt;LSTag Tooltip="SavingThrow"&gt;Saving Throw&lt;/LSTag&gt; or become &lt;LSTag Type="Status" Tooltip="MAG_PSYCHIC_MENTAL_FATIGUE"&gt;Mentally Fatigued&lt;/LSTag&gt; for 3 turns.
data "Description" "h22442963ge147g4874gb0c8gc2fb3393f96b;1"
// data "DescriptionParams" ""
data "DescriptionParams" "DealDamage(,Psychic)"
// data "Conditions" "not Item() and not Self() and not IsMiss() and HasDamageDoneForType(DamageType.Psychic)"
data "Conditions" "not Item() and IsAttack() and HasDamageEffectFlag(DamageFlags.Hit) and HasDamageDoneForType(DamageType.Psychic)"

// Venomous Whispers
new entry "PsyRiderPassive2"
type "PassiveData"
using "PsyRiderPassive2"
// The wearer deals an additional 1d4 poison damage when dealing psychic damage.
// data "Description" "haec0b11eg1828g7835gf48bg779698a31a73;1"
// The wearer deals an additional [1] when dealing[2] with &lt;LSTag Tooltip="AttackRoll"&gt;Attacks&lt;/LSTag&gt;.
data "Description" "h0c187050gaa77g4ce9g8549g9f1f20b437bd;1"
// data "DescriptionParams" ""
data "DescriptionParams" "DealDamage(1d4, Poison);DealDamage(,Psychic)"
// data "Boosts" "IF(HasDamageDoneForType(DamageType.Psychic)):DamageBonus(1d4, Poison)"
data "Boosts" "IF(IsAttack() and HasDamageDoneForType(DamageType.Psychic)):DamageBonus(1d4, Poison)"

// Creeping Dread
new entry "PsyRiderPassive2b"
type "PassiveData"
using "PsyRiderPassive2b"
// When you deal psychic damage to an enemy, they may gain &lt;LSTag Type="Status" Tooltip="MAG_PSYCHIC_MENTAL_FATIGUE"&gt;Poisoned&lt;/LSTag&gt; for 2 turns.
// data "Description" "hcac96ea0g0345g68ffg413eg984a74c0b3aa;3"
// When you deal[1] to an enemy with an &lt;LSTag Tooltip="AttackRoll"&gt;Attacks&lt;/LSTag&gt;, they must succed a &lt;LSTag Tooltip="Constitution"&gt;Constitution&lt;/LSTag&gt; &lt;LSTag Tooltip="SavingThrow"&gt;Saving Throw&lt;/LSTag&gt; or become &lt;LSTag Type="Status" Tooltip="POISONED"&gt;Poisoned&lt;/LSTag&gt; for 2 turns.
data "Description" "h805f7870g29c2g478dga6afgf66da2c04da3;1"
// data "DescriptionParams" ""
data "DescriptionParams" "DealDamage(,Psychic)"
// data "Conditions" "not Item() and not Self() and not IsMiss() and HasDamageDoneForType(DamageType.Psychic)"
data "Conditions" "not Item() and IsAttack() and HasDamageEffectFlag(DamageFlags.Hit) and HasDamageDoneForType(DamageType.Psychic)"

// ==================================== Frostbound Legendaries ====================================
// TODO: This shit too powerful frfr

new entry "LOOT_FrostyBoiPack"
type "Object"
// using "_Container"
using "LOOT_FrostyBoiPack"
// data "RootTemplate" "ae6056eb-b542-4a89-a8dc-72bd07254b09"
// data "Rarity" "VeryRare"
// data "Weight" "1"
data "ValueOverride" "1"

// new entry "MAG_Frostyboi_Hat"
// type "Armor"
// using "_Head_Magic"
// data "RootTemplate" "49e18039-3e48-4464-80cf-1a0a3b8d037a"
// data "ValueOverride" "756"
// data "Rarity" "Legendary"
// data "PassivesOnEquip" "MAG_FrostyBoi_CHILL;MAG_Frost_GenerateSurfaceOnColdDamage_Ring_Passive;MAG_Frost_GenerateFrostOnDamage_Gloves_Passive;MAG_Thunder_ReverberationOnStatusApply_Boots_Passive"
// data "MinAmount" "1"
// data "MaxAmount" "1"
// data "Priority" "1"
// data "MinLevel" "1"

// new entry "MAG_Frostyboi_Hat_Tut"
// type "Armor"
// using "MAG_Frostyboi_Hat"

// new entry "MAG_FrostyBoiStaff"
// type "Weapon"
// using "WPN_Quarterstaff_1"
// data "RootTemplate" "de99670d-7cdb-4f15-8994-4c730eb91d19"
// data "ItemGroup" ""
// data "ValueUUID" "81764c3c-c7a9-49a7-b145-d31ffd5aebe1"
// data "ValueOverride" "910"
// data "Rarity" "Legendary"
// data "DefaultBoosts" "WeaponEnchantment(3);WeaponProperty(Magical)"
// data "PassivesOnEquip" "MAG_FrostyBoi_BeefedMourning;MAG_Critical_Force_Frost;MAG_FrostyBoi_Slow;MAG_Legendary_ArcaneEnchantment_Passive"

// new entry "MAG_FrostyBoi_CHILL"
// type "PassiveData"
// data "DisplayName" "he66f570ag0a46g4f8agbd85g8be91b28e021;1"
// data "Description" "h797891aag4b41g1b1fg6a7cg33bda0027a68;2"
// data "DescriptionParams" "2"
// data "Icon" "Spell_Evocation_OtilukesFreezingSphere_CreateGlobe"
// data "StatsFunctorContext" "OnDamage"
// data "Conditions" "IsDamageTypeCold() and not Item()"
// data "StatsFunctors" "ApplyStatus(CHILLED,100,2)"

// new entry "MAG_Critical_Force_Frost"
// type "PassiveData"
// data "DisplayName" "h6c5172ebg84e9g25a3g22e8gbbc2e0ab1684;2"
// data "Description" "hc7741aabg6e72gc7f3gf227g2a5bce454f0a;1"
// data "DescriptionParams" "DealDamage(10, Force)"
// data "Icon" "Spell_Enchantment_PowerWordKill"
// data "StatsFunctorContext" "OnDamage"
// data "StatsFunctors" "IF(IsCritical()):DealDamage(10, Force,Magical)"

// new entry "MAG_FrostyBoi_Slow"
// type "PassiveData"
// data "DisplayName" "h11436a8cg665cg1ce8g45adgfd970a6dbad0;1"
// data "Description" "h4acae83egebceg49c8g4572g1dd2eae1c9b3;3"
// data "DescriptionParams" "1"
// data "TooltipSave" "Wisdom"
// data "Icon" "Spell_Transmutation_Slow"
// data "StatsFunctorContext" "OnDamage"
// data "Conditions" "IsDamageTypeCold() and not Item()"
// data "StatsFunctors" "ApplyStatus(SLOW,100,1,,,,not SavingThrow(Ability.Wisdom,12))"

// new entry "MAG_FrostyBoi_BeefedMourning"
// type "PassiveData"
// using "MAG_Fire_IncreasedDamage_Passive"
// data "DisplayName" "hf20a6eb7g620ag0f56g6deag3a64d54aa52c;2"
// data "Description" "hd0759dd5g6f8fg997bg4434ge7d85988ff05;4"
// data "DescriptionParams" "DealDamage(6,Radiant)"
// data "Icon" "Spell_Evocation_WallOfIce"
// data "Boosts" "IF(HasDamageDoneForType(DamageType.Cold)):DamageBonus(6, Radiant)"
